<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>women</title>
    <link rel="stylesheet" href="../styles/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.min.css"
    />
  </head>
  <body>
    <div class="top_header">
      <!-- header starts form here -->
      <header>
        <div class="container">
          <div>
            <p>INDIA</p>
            <p class="m-left">CUSTOMER CARE</p>
          </div>
          <p>FREE SHIPPING ON ORDERS OVER US$ 190</p>
          <div class="login_signup">
            <!-- if logged in -->
            <div class="users_register_box" id="user_name_box">
              <i class="fa-solid fa-user" style="color: #000333"></i>
              <p id="display_user_name"></p>
            </div>
            <!-- if not logged in already -->
            <div
              class="users_register_box"
              id="reistration_box"
              onclick="{location.href='./registration.html'}"
            >
              <i
                class="fa-sharp fa-solid fa-pencil fa-bounce"
                style="color: #000333"
              ></i>
              <p>REGISTER</p>
            </div>
            <!-- if logged in -->
            <div class="users_register_box" id="logout_user">
              <i class="fa-solid fa-lock"></i>
              <p id="logout_button">LOGOUT</p>
            </div>
            <!-- if not logged in -->
            <div class="users_register_box" id="login_form_container">
              <div id="open_login_form">
                <i
                  class="fa fa-duotone fa-unlock fa-bounce"
                  style="color: #000333"
                  class="m-left"
                ></i>
                <p>LOGIN</p>
              </div>
              <form id="login_form">
                <i
                  class="fa-solid fa-xmark fa-xl"
                  style="text-align: right"
                  id="close_login_form"
                ></i>
                <h1>it's great to see you again.</h1>
                <div class="login_with_google">
                  <p>Log in with</p>
                  <div class="login_options">
                    <img
                      src="https://t1.gstatic.com/images?q=tbn:ANd9GcRPKRMO9ZCqqrGDPw40klphVQyPdUy7QILrgTS9hYDIIppF36M2"
                      alt=""
                    />
                    <img
                      src="https://lh3.googleusercontent.com/w1u9Ovk_hWsZVxRw5IAyP-LIv8P7zeimQk5wvhFofF9w2UwSZk_BNNJ8QUMmH5Wu6TKuwbFK0hZ3Uop6akvCyOJLj9lClvjTSxTyGvtH"
                      alt=""
                    />
                  </div>
                </div>
                <p>or with your e-mail address</p>
                <div class="email_pass">
                  <input
                    type="email"
                    id="user_email"
                    placeholder="E-MAIL"
                    required
                  />
                  <input
                    type="password"
                    id="user_password"
                    placeholder="PASSWORD"
                    required
                  />
                  <div class="checkbox">
                    <input type="checkbox" /> <label>REMEMBER ME</label>
                  </div>
                </div>
                <p style="text-align: right; text-decoration: underline">
                  Forgot your password?
                </p>
                <input type="submit" value="LOG IN" />
                <p style="font-size: 10px; font-weight: 100">
                  For more information, please consult the Privacy Policy
                </p>
                <span
                  >ARE YOU NEW TO YOOX?
                  <span
                    id="register_now"
                    onclick="{location.href='./registration.html'}"
                    >REGISTER NOW</span
                  ></span
                >
              </form>
            </div>
          </div>
        </div>
      </header>
      <!-- header ends here -->

      <!-- navigation starts from here -->
      <nav class="main_navigation">
        <div class="container">
          <div class="tabs">
            <nav>
              <a href="./women.html">WOMEN</a>
              <a href="#">MEN</a>
              <a href="#">KIDS</a>
              <a href="#">DESIGN+ART</a>
            </nav>
          </div>
          <div>
            <img src="../images/oop_mark.png" alt="" class="logo" />
          </div>
          <div class="user_things">
            <i class="fa fa-magnifying-glass fa-xl" style="color: #000333"></i>
            <i class="fa-regular fa-heart fa-xl"></i>
            <i class="fa fa-duotone fa-bag-shopping fa-xl" onclick="{location.href='./bag.html'}"></i>
          </div>
        </div>
      </nav>
      <!-- navigation ends here -->

      <!-- categories navigation start here -->
      <nav class="categories_navigation">
        <div class="container">
          <div class="new_container">
            <p>NEW</p>
            <div class="new_box"></div>
          </div>
          <div class="arrivals_container">
            <p>ARRIVALS</p>
            <div class="arrivals_box"></div>
          </div>
          <div class="designers_container">
            <p>DESIGNERS</p>
            <div class="designer_box"></div>
          </div>
          <div class="clothing_container">
            <p>CLOTHING</p>
            <div class="clothing_box"></div>
          </div>
          <div class="shoes_container">
            <p>SHOES</p>
            <div class="shoes box"></div>
          </div>
          <div class="accessories_container">
            <p>ACCESSORIES & BAGS</p>
            <div class="accessories_box"></div>
          </div>
          <div class="byYoox_container">
            <p>8 BY YOOX</p>
            <div class="byYoox_box"></div>
          </div>
          <div class="yooxygen_container">
            <p>YOOXYGEN</p>
            <div class="yooxygen_box"></div>
          </div>
          <div class="collaborations_container">
            <p>COLLABORATIONS</p>
            <div class="collaborations_box"></div>
          </div>
          <div class="sale_container">
            <p>SALE</p>
            <div class="sale_box"></div>
          </div>
        </div>
      </nav>
      <!-- categories navigation eds here -->
    </div>

    <!-- solo product section starts from here -->
    <section class="solo_section">
      <div class="container">
        <div class="solo_image">
          <img src="" alt="" id="solo_image" />
        </div>
        <div id="solo_description"></div>
      </div>
    </section>
    <!-- solo product section ends here -->

    <!-- testimonials section stars form here -->
    <section class="testimonials">
      <div class="container">
        <div class="new_arrivals">
          <h1>NEW ARRIVALS</h1>
          <p>VIEW ALL</p>
        </div>
        <!-- testitmonial -->
        <div class="container" id="aaoji">
          <div class="row">
            <div class="col-md-12">
              <div id="testimonial-slider" class="owl-carousel">
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/15/15302057LG_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">GANNI</p>
                    <div class="description">
                      <p class="min_title">Short dress</p>
                      <span class="discount"
                        ><span class="row_1">US$ 256,00</span
                        ><span class="off">39% OFF</span></span
                      >
                      <p class="price">US$ 156,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/16/16231553VG_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">BOTTEGA VENETA</p>
                    <div class="description">
                      <p class="min_title">Jacket</p>
                      <span class="discount"
                        ><span class="row_1">US$ 256,00</span
                        ><span class="off">32% OFF</span></span
                      >
                      <p class="price">US$ 149,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/15/15301909KB_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">GANNI</p>
                    <div class="description">
                      <p class="min_title">Midi dress</p>
                      <span class="discount"
                        ><span class="row_1">US$ 689,00</span
                        ><span class="off">34% OFF</span></span
                      >
                      <p class="price">US$ 344,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/10/10127188QE_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">NANUSHKA</p>
                    <div class="description">
                      <p class="min_title">Top</p>
                      <span class="discount"
                        ><span class="row_1">US$ 256,00</span
                        ><span class="off">40% OFF</span></span
                      >
                      <p class="price">US$ 190,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/30/30041028RC_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">DRIES VAN NOTEN</p>
                    <div class="description">
                      <p class="min_title">Short dress</p>
                      <span class="discount"
                        ><span class="row_1">US$ 256,00</span
                        ><span class="off">39% OFF</span></span
                      >
                      <p class="price">US$ 156,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/15/15307144DB_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">CLOSET</p>
                    <div class="description">
                      <p class="min_title">Long dress</p>
                      <span class="discount"
                        ><span class="row_1">US $122,00</span
                        ><span class="off">29% OFF</span></span
                      >
                      <p class="price">US$ 249,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/13/13997833NW_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">ROKSANDA</p>
                    <div class="description">
                      <p class="min_title">Maxi Skirts</p>
                      <span class="discount"
                        ><span class="row_1">US$ 259,00</span
                        ><span class="off">23% OFF</span></span
                      >
                      <p class="price">US$ 297,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/10/10128366XR_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">GANNI</p>
                    <div class="description">
                      <p class="min_title">Blouse</p>
                      <span class="discount"
                        ><span class="row_1">US$ 256,00</span
                        ><span class="off">39% OFF</span></span
                      >
                      <p class="price">US$ 277,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/45/45760873TJ_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">SEE BY CHOLE</p>
                    <div class="description">
                      <p class="min_title">Handbag</p>
                      <span class="discount"
                        ><span class="row_1">US$ 280,00</span
                        ><span class="off">33% OFF</span></span
                      >
                      <p class="price">US$ 583,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/13/13997833NW_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">ROKSANDA</p>
                    <div class="description">
                      <p class="min_title">Maxi Skirts</p>
                      <span class="discount"
                        ><span class="row_1">US$ 259,00</span
                        ><span class="off">23% OFF</span></span
                      >
                      <p class="price">US$ 297,00</p>
                    </div>
                  </div>
                </div>
                <div class="testimonial">
                  <div class="card">
                    <img
                      src="https://www.yoox.com/images/items/15/15307144DB_14_f.jpg?impolicy=crop&width=306&height=390"
                      alt=""
                    />
                    <p class="title">CLOSET</p>
                    <div class="description">
                      <p class="min_title">Long dress</p>
                      <span class="discount"
                        ><span class="row_1">US $122,00</span
                        ><span class="off">29% OFF</span></span
                      >
                      <p class="price">US$ 249,00</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- testimonials section ends here -->

    <!-- just image section starts from here -->
    <section class="just_image">
      <div class="container">
        <div class="left_right">
          <div class="image">
            <img
              src="https://www.yoox.com/images/yoox80/banners/6825_11_SeeByChloe_W_Tris.jpg?634485886601286852#width=473&height=660"
              alt=""
            />
          </div>
          <h1>SEE BY CHLOÉ</h1>
          <p>Effortless and chic Discover the collection</p>
        </div>
        <div class="middle">
          <div class="image">
            <img
              src="https://www.yoox.com/images/yoox80/banners/6825_4_NewBalance_ADV_W.jpg?634485886601286852#width=473&height=660"
              alt=""
            />
          </div>
          <h1>NEW BALANCE</h1>
          <p>We Got Now: discover the new 327 sneakers</p>
        </div>
        <div class="left_right">
          <div class="image">
            <img
              src="https://www.yoox.com/images/yoox80/banners/6825_6_BaumeMercier_Tris_W.png?634485886601286852#width=473&height=660"
              alt=""
            />
          </div>
          <h1>BAUME & MERCIER</h1>
          <p>Minimal and elegant: discover the new models</p>
        </div>
      </div>
    </section>
    <!-- just image section ends here -->
    <section class="img-1">
      <img src="../images/img-1.png" alt="" />
    </section>
    <section class="img-2">
      <img src="../images/img-2.png" alt="" />
    </section>
    <!-- just image ends here -->

    <!-- footer starts from here -->
    <footer>
      <div class="container">
        <div>
          <h1>NEW TO OOP MARK <br />______</h1>
          <a href="#">Shopping guide</a>
          <a href="#">iPhone/iPad/Android</a>
          <a href="#">Browse all Designers</a>
          <a href="#">Browse all Categories</a>
        </div>
        <div>
          <h1>HELP <br />______</h1>
          <a href="#">Shipping times & costs</a>
          <a href="#">Payments and web security</a>
          <a href="#">Product quality</a>
          <a href="#">Track your order</a>
          <a href="#">Returns & refunds</a>
          <a href="#">FAQs</a>
          <a href="#">Size Guide</a>
        </div>
        <div>
          <h1>MOPPMARK<br />______</h1>
          <a href="#">Login</a>
          <a href="#">My orders</a>
          <a href="#">My Details</a>
          <a href="#">Dread Box</a>
          <a href="#">Premiere</a>
        </div>
        <div>
          <h1>ABOUT US <br />______</h1>
          <a href="#">Company info</a>
          <a href="#">Press</a>
          <a href="#">Affiliation</a>
          <a href="#">Careers</a>
        </div>
      </div>
    </footer>
    <hr color="white" size="4px" />
    <div class="social">
      <div class="container">
        <div>
          <p>CONNECT WITH US</p>
          <i
            class="fa-brands fa-facebook-f fa-shake fa-xl"
            style="color: #000333"
          ></i>
          <i
            class="fa-brands fa-twitter fa-shake fa-xl"
            style="color: #000333"
          ></i>
          <i
            class="fa-brands fa-square-instagram fa-shake fa-xl"
            style="color: #000333"
          ></i>
          <i
            class="fa-brands fa-youtube fa-shake fa-xl"
            style="color: #000333"
          ></i>
          <i
            class="fa-brands fa-pinterest fa-shake fa-xl"
            style="color: #000333"
          ></i>
        </div>
        <div>
          <i
            class="fa fa-duotone fa-mobile fa-bounce fa-xl"
            style="--fa-primary-color: #000333; --fa-secondary-color: #000333"
          ></i>
          <p>DOWNLOAD THE APP FOR iOS / ANDROID</p>
        </div>
      </div>
    </div>
    <div class="black_belt">
      <div class="container">
        <p class="row-1">
          POWERED BY YOOX NET-A-PORTER GROUP - COPYRIGHT © 2000-2023 YOOX
          NET-A-PORTER GROUP S.P.A. - ALL RIGHTS RESERVED - SIAE LICENCE #
          401/I/526
        </p>
        <p class="row-2">LEGAL AREA / PRIVACY POLICY</p>
      </div>
    </div>
    <!-- footer ends here -->

    <script>
      // const solo_url = "https://real-blue-dragonfly-suit.cyclic.app/products";
      const solo_url = "https://oopmark.onrender.com/products";
      // const login_url =
      //   "https://real-blue-dragonfly-suit.cyclic.app/users/login";
      // const add_to_cart_url =
      //   "https://real-blue-dragonfly-suit.cyclic.app/bag/add";
      const login_url =
        "https://oopmark.onrender.com/users/login";
      const add_to_cart_url =
        "https://oopmark.onrender.com/bag/add";
      const login_form_el = document.getElementById("login_form");
      const registration_form_el = document.getElementById("registration_form");
      const logged_user_name = localStorage.getItem("user_name");
      const logged_user_token = localStorage.getItem("token");
      const solo_id = localStorage.getItem("solo_id");
      const solo_image = document.getElementById("solo_image");
      const solo_description = document.getElementById("solo_description");
      const token = localStorage.getItem("token");

      // fetch the solo product
      fetch(`${solo_url}/${solo_id}`)
        .then((req) => req.json())
        .then((res) => append_solo(res));

      function append_solo(res) {
        solo_image.src = res.image;
        solo_description.innerHTML = `
            <div class="row-1">
                <h1> ${res.brand} </h1>
                <p class="category"> ${res.microcategory} </p> 
            </div>
            <div class="row-2">
                <div> <span class="old_price"> ${
                  res.oldprice
                } </span> <span class="off"> ${res.off} </span> </div>
                <p class="new_price"> US$ ${res.newprice},00 </p>
            </div> 
            <div class="size">
                ${res.size
                  .split(" ")
                  .map((ele) => `<span class="size-option">${ele}</span>`)
                  .join("")}
            </div>
            <div class="need_help">
                <div class="need_more_help"> <p> Need more help? View the <span style="color: #000; font-weight: bold;"> Size Guide </span> </p> </div>
                <p class="find_size"> FIND YOUR SIZE </p>
                <button id="add_to_bag"> ADD TO SHOPPING BAG </button>
                <button id="add_to_dream"> ADD TO DREAM BOX </button>
            </div>
        `;
        localStorage.setItem("add_to_bag", JSON.stringify(res));
        add_to_bag();
      }

      // add to bag
      function add_to_bag() {
        const sizeOptions = document.querySelectorAll(".size-option");
        sizeOptions.forEach((option) => {
          option.addEventListener("click", (e) => {
            // Remove selected class from all size options
            sizeOptions.forEach((option) => {
              option.classList.remove("selected");
            });
            // Add selected class to the clicked size option
            option.classList.add("selected");
          });
        });
        document.getElementById("add_to_bag").addEventListener("click", () => {
          let selectedSize = document.querySelector(
            ".size-option.selected"
          ).textContent;
          const {
            brand,
            category,
            image,
            microcategory,
            newprice,
            off,
            oldprice,
          } = JSON.parse(localStorage.getItem("add_to_bag"));
          fetch(add_to_cart_url, {
            method: "POST",
            body: JSON.stringify({
              brand,
              category,
              image,
              microcategory,
              newprice,
              off,
              oldprice,
              size: selectedSize || "S",
            }),
            headers: {
              "Content-type": "application/json",
              Authorization: `Bearer ${token}`,
            },
          })
            .then((req) => req.json())
            .then((res) => bag_checker(res))
            .catch((err) => {
              document.getElementById("login_form").style.visibility =
                "visible";
            });
        });
      }
      function bag_checker(res) {
        if (res.success) {
          alert("added successfull");
        } else {
          alert("login first");
        }
      }

      // flip image
      setTimeout(function () {
        solo_image.style.transform = "scaleX(-1)";
      }, 3000);
      setTimeout(function () {
        solo_image.style.transform = "scaleX(1)";
      }, 3600);

      if (logged_user_name) {
        document.getElementById("reistration_box").style.display = "none";
        document.getElementById("user_name_box").style.display = "flex";
        document.getElementById("display_user_name").textContent =
          logged_user_name;
        document.getElementById("login_form_container").style.display = "none";
        document.getElementById("logout_user").style.display = "flex";
      }

      // logout user
      document.getElementById("logout_user").addEventListener("click", (e) => {
        localStorage.clear();
        location.href = "../index.html";
      });

      // open login form
      function open_login_form() {
        document.getElementById("login_form").style.visibility = "visible";
      }
      document
        .getElementById("open_login_form")
        .addEventListener("click", () => {
          open_login_form();
        });
      // close login form
      function close_login_form() {
        document.getElementById("login_form").style.visibility = "hidden";
      }
      document
        .getElementById("close_login_form")
        .addEventListener("click", () => {
          close_login_form();
        });

      // login user
      login_form_el.addEventListener("submit", (e) => {
        e.preventDefault();
        let obj = {
          email: login_form_el.user_email.value,
          password: login_form_el.user_password.value,
        };
        fetch(login_url, {
          method: "POST",
          body: JSON.stringify(obj),
          headers: { "Content-type": "application/json" },
        })
          .then((req) => req.json())
          .then((res) => loged_in_success(res))
          .catch((err) => alert("Wrong crendencials"));
      });
      function loged_in_success(data) {
        const { msg, user_name, token } = data;
        if (!token) {
          alert("wrong credencials");
          return;
        }
        localStorage.setItem("user_name", user_name);
        localStorage.setItem("token", token);
        location.reload();
      }
    </script>

    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-1.12.0.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js"
    ></script>

    <script>
      $(document).ready(function () {
        $("#testimonial-slider").owlCarousel({
          items: 4,
          itemsDesktop: [1000, 2],
          itemsDesktopSmall: [979, 2],
          itemsTablet: [767, 1],
          pagination: true,
          autoPlay: true,
        });
        document.querySelectorAll(".owl-item").forEach((ele) => {
          // ele.style.width = "330px"
        });
      });
    </script>
  </body>
</html>
